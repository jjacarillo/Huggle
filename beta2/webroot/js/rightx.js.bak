Rightx = Backbone.View.extend({
       events: {
         "click input.submitx" : "submitRightxForm",
         "click #editBtn": "editRow",
         "click #deleteBtn" : "deleteItem",
         "click tbody" : "addRowSelectClass"
       },
       addRowSelectClass: function(event){
				  var oTable = App.oTable;

				  $(oTable.fnSettings().aoData).each(function (){
				  	$(this.nTr).removeClass('row_selected');
				  });

				  $(event.target.parentNode).addClass('row_selected');
			  
			  },
       deleteItem: function(e){
			   var oTable, anSelected, r = confirm('Are you sure you want to delete selected item');
			   if (r === true){
 	                     oTable = App.oTable;
			     anSelected = this.fnGetSelected( oTable );
			     oTable.fnDeleteRow( anSelected[0] );
			   }
		   },
       editRow: function(e){
			var oTable, anSelected;
 	                oTable = App.oTable;
			anSelected = this.fnGetSelected( oTable );
			//$('#formContainer').dialog({autoOpen: false});
			$('#formContainer').dialog('open');

                },
       submitRightxForm: function(e){
               var options = { 
             	        target: '#rightx'
             	    };
               $('#rightx form').ajaxForm(options);
       },
       initialize: function(){
			   _.bindAll(this);
			   $('#formContainer').dialog({autoOpen: false});
       },
       fnGetSelected: function(oTableLocal){
			var aReturn = new Array();
			var aTrs = oTableLocal.fnGetNodes();
			
			for ( var i=0 ; i<aTrs.length ; i++ )
			{
				if ( $(aTrs[i]).hasClass('row_selected') )
				{
					aReturn.push( aTrs[i] );
				}
			}
			return aReturn;

		      }
});
